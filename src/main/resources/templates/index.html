<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Map Demo</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
    <div id="map"></div>
    <div class="title">数据监测平台</div>
    <div class="btn-toggle">数据监测</div>
    <div class="info-box">
        <div class="chart-box">
            <div class="border-line"></div>
            <div class="border-line"></div>
            <div class="chart-title">饼图数据</div>
            <div class="chart0" style="height: 100%;"></div>
        </div>
    </div>
    <div class="time-box">
        <div class="time" id="time"></div>
        <div class="time-animate">
        </div>
    </div>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var baseLocation = [[${fence}]];
        /*]]>*/
    </script>
    <script src="http://api.map.baidu.com/api?v=2.0&ak=TmYYlzM2893CyfuQv8myI6f1SF75xHNP"></script>
    <script src="/echarts/echarts.simple.min.js"></script>
    <script src="/common/js/utils.js"></script>

    <script src="/common/js/common.js"></script>
    <script src="/assets/js/lushu.js"></script>
    <script src="/assets/js/map.js"></script>
    <script>
        var myChart = echarts.init(document.querySelector('.chart0'));
        myChart.setOption({
            series: [{
                name: '1',
                type: 'pie',
                radius: '55%',
                data: [{
                        value: 235,
                        name: '1'
                    },
                    {
                        value: 274,
                        name: '2'
                    },
                    {
                        value: 310,
                        name: '3'
                    },
                    {
                        value: 335,
                        name: '4'
                    },
                    {
                        value: 400,
                        name: '5'
                    }
                ]
            }]
        });
        // var transform = prefixStyle('transform');
        U.el('.btn-toggle').onclick = function () {
            var $infoBox = U.el('.info-box');
            if (!U.hasClass($infoBox, 'show-info-box')) {
                // this.style.right = '33%';
                U.addClass($infoBox, 'show-info-box');
            } else {
                // this.style.right = '20px';
                U.removeClass($infoBox, 'show-info-box');
            }
        }
        showTime();

        function showTime() {
            var today = new Date();
            var month = today.getMonth() + 1;
            var date = today.getDate();
            var hour = today.getHours();
            var minute = today.getMinutes();
            var second = today.getSeconds();
            month = (month >= 1 && month <= 9) ? '0' + month : month;
            date = (date >= 0 && date <= 9) ? '0' + date : date;
            hour = (hour >= 0 && hour <= 9) ? '0' + hour : hour;
            minute = (minute >= 0 && minute <= 9) ? '0' + minute : minute;
            second = (second >= 0 && second <= 9) ? '0' + second : second;

            var currentdate = today.getFullYear() + '-' + month + '-' + date +
                ' ' + hour + ':' + minute + ':' + second;

            U.el('#time').innerHTML = currentdate;
            setTimeout(showTime, 1000);
        }
    </script>
</body>

</html>